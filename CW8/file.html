<!DOCTYPE html>
<!-- saved from url=(0047)https://blm-fsmvu.github.io/305/work/Files.html -->
<html lang="en-US">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width">
    <link rel="icon" href="https://emreustaa.github.io/AdvancedProgrammingLecture/images/files.png">
    <title>Remote and Local Files </title>
    <style>
        body {
            max-width: 500px;
        }
        
        #remote {
            width: 90%;
        }
    </style>
    <meta id="AyzetPkcs11IsInstalled" content="Chrome-Extension" baseuri="">
</head>

<body data-new-gr-c-s-check-loaded="14.983.0" class="vsc-initialized">
    <p><b id="docName">Remote and Local Files</b> &nbsp; <a href="https://blm-fsmvu.github.io/305/work/Reading_files">Reference</a>
    </p>
    <p>Remote file <br>
        <input type="text" id="remote" size="35" value="../images/objects.png">
    </p>
    <p><input type="file" id="local" multiple="" onchange="fileSelect()"></p>
    <pre id="out"></pre>
    <hr>
    <b>Sample code</b>
    <pre id="sample">function fileSelect() {<br>    fetch(remote.value).then(r =&gt; r.blob())<br>    .then(checkFiles) //called with Blob b<br>}<br>function checkFiles(b) {<br>    let a = [...local.files]<br>    //Implement this<br>    out.innerText += 'Implement this '<br>}</pre>

    <script>
        "use strict";

        function fileSelect() {
            fetch(remote.value).then(r => r.blob())
                .then(checkFiles) //called with Blob b
        }

        function checkFiles(b) {
            let files = [...local.files]
            let sameImage = false
            let name = ""


            for (let i = 0; i < files.length; i++) {
                out.innerText += ',' + files[i].name;
            }

            for (let file of files) {
                out.innerText += file.name;
                if (b.size == file.size && b.type == file.type) {
                    sameImage = true;
                    name = file.name;
                }
            }

            if (sameImage) {
                out.innerText = remote.value + " is the same as " + name + "\n"
            } else {
                out.innerText = "all files are diffrent"
            }

        }
        const L = console.log
        docName.innerText = document.title
        sample.innerText = fileSelect + "\n" + checkFiles
    </script>


    <script>
        mendeleyWebImporter = {
            open: function() {
                window.postMessage('0.159319521458956', 'https://blm-fsmvu.github.io')
            }
        }
    </script>
</body>

</html>